(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ddfd466"],{"1dde":function(t,o,e){var s=e("d039"),i=e("b622"),n=e("2d00"),r=i("species");t.exports=function(t){return n>=51||!s((function(){var o=[],e=o.constructor={};return e[r]=function(){return{foo:1}},1!==o[t](Boolean).foo}))}},"4cc4":function(t,o,e){"use strict";e.r(o);var s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"home"},[e("mt-header",{attrs:{fixed:"",title:"购物街"}}),e("listbar",{directives:[{name:"show",rawName:"v-show",value:t.newlbarisshow,expression:"newlbarisshow"}],ref:"newlistbar",staticClass:"newlistbar",attrs:{toptitle:["流行","新款","精选"],nowindex:t.currentindex},on:{barclicked:t.getdata}}),e("scroll",{ref:"scroll",attrs:{probetype:3},on:{scrolling:t.getposition,pullupload:t.loadmore}},[e("lunbo",{attrs:{imglist:t.topres.lunboimgs},on:{imghasload:t.lunboimgload}}),e("recdbar",{attrs:{recommend:t.topres.recd},on:{imgLoad:t.recdimgLoad}}),e("popbar",{attrs:{pop:t.topres.pop},on:{popimgLoad:t.popimgload}}),e("listbar",{ref:"listbar",attrs:{toptitle:["流行","新款","精选"],nowindex:t.currentindex},on:{barclicked:t.getdata}}),e("list",{attrs:{goods:t.nowgoods},on:{imgload:t.listimghasload}})],1),e("totop",{directives:[{name:"show",rawName:"v-show",value:t.totopisshow,expression:"totopisshow"}],nativeOn:{click:function(o){return t.backtop(o)}}})],1)},i=[],n=(e("99af"),e("dc2b")),r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"recdbar"},[e("h3",[t._v("推荐栏")]),e("div",{staticClass:"itemc"},t._l(t.recommend,(function(o,s){return e("a",{key:s},[e("img",{attrs:{src:o.imgsrc,alt:""},on:{load:t.imgload}}),e("p",[t._v(t._s(o.title))])])})),0)])},a=[],c={data:function(){return{isload:!1}},props:{recommend:{type:Array,default:function(){return[]}}},methods:{imgload:function(){this.isload||(this.$emit("imgLoad"),this.isload=!0)}}},l=c,d=(e("5e0e"),e("2877")),u=Object(d["a"])(l,r,a,!1,null,"41db2ace",null),f=u.exports,p=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"popbar"},[e("h3",[t._v("本周流行")]),e("a",[e("img",{attrs:{src:t.pop.imgsrc,alt:""},on:{load:t.imgload}})])])},h=[],g={data:function(){return{}},props:{pop:{type:Object,default:function(){return{}}}},methods:{imgload:function(){this.$emit("popimgLoad")}},mounted:function(){}},m=g,b=(e("4e40"),Object(d["a"])(m,p,h,!1,null,"061edc56",null)),w=b.exports,v=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"listbar"},t._l(t.toptitle,(function(o,s){return e("span",{key:s,class:{activestyle:t.nowindex==s},on:{click:function(o){return t.beactive(s)}}},[t._v(" "+t._s(o)+" ")])})),0)},$=[],y=(e("a9e3"),{data:function(){return{}},props:{nowindex:{type:Number,default:0},toptitle:{type:Array,default:function(){return[]}}},methods:{beactive:function(t){this.$emit("barclicked",t)}}}),_=y,x=(e("c57d"),Object(d["a"])(_,v,$,!1,null,"12edb704",null)),k=x.exports,C=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"list"},t._l(t.goods,(function(o,s){return e("a",{key:s,on:{click:function(e){return t.todetail(o.id)}}},[e("img",{attrs:{src:o.imgsrc,alt:""},on:{load:t.load}}),e("p",{staticClass:"goodsinfo"},[t._v(t._s(o.info))]),e("p",{staticClass:"price"},[t._v(t._s(o.price))])])})),0)},O=[],T={methods:{load:function(){this.$emit("imgload")},todetail:function(t){this.$router.push("/detail/"+t)}},props:{goods:{type:Array,default:function(){return[]}}}},j=T,E=(e("c198"),Object(d["a"])(j,C,O,!1,null,"44a87d71",null)),L=E.exports,A=(e("f40f"),e("59c5")),N=e("3af1");function J(t){var o,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:66;return function(){o&&clearTimeout(o),o=setTimeout((function(){t()}),e)}}var B=e("a2f6"),M=function(){var t=this;Object(B["a"])({url:"/home/data"}).then((function(o){var e=o.topdata;t.topres=e;var s=o.goodsdata;t.goodsres=s,t.nowgoods=s.pop}),(function(t){console.log(t)}))},S={data:function(){return{topres:"",goodsres:"",nowgoods:[],currentindex:0,totopisshow:!1,listbartopvalue:"",newlbarisshow:!1,oldy:"",myrefresh:""}},components:{lunbo:n["a"],recdbar:f,popbar:w,listbar:k,list:L,scroll:A["a"],totop:N["a"]},methods:{net:M,getdata:function(t){this.currentindex=t,this.nowgoods=0==t?this.goodsres.pop:1==t?this.goodsres.new:this.goodsres.delicate},backtop:function(){this.$refs.scroll.backTo(0,0)},getposition:function(t){-t.y>360?this.totopisshow=!0:this.totopisshow=!1,-t.y>this.listbartopvalue?this.newlbarisshow=!0:this.newlbarisshow=!1},lunboimgload:function(){this.$refs.scroll.refresh(),this.listbartopvalue=this.$refs.listbar.$el.offsetTop},recdimgLoad:function(){this.$refs.scroll.refresh()},popimgload:function(){this.listbartopvalue=this.$refs.listbar.$el.offsetTop,this.$refs.scroll.refresh()},loadmore:function(){this.nowgoods[0].id==this.goodsres.pop[0].id?this.nowgoods=this.nowgoods.concat(this.goodsres.pop):this.nowgoods[0].id==this.goodsres.new[0].id?this.nowgoods=this.nowgoods.concat(this.goodsres.new):this.nowgoods=this.nowgoods.concat(this.goodsres.delicate),this.$refs.scroll.pullupend(),this.$refs.scroll.refresh()},listimghasload:function(){this.$refs.scroll.refresh()}},created:function(){this.net()},mounted:function(){this.betterrefresh=J(this.$refs.scroll.refresh)},activated:function(){this.$refs.scroll.backTo(0,this.oldy),this.$refs.scroll.refresh()},deactivated:function(){this.oldy=this.$refs.scroll.gety()}},q=S,z=(e("79c2"),Object(d["a"])(q,s,i,!1,null,null,null));o["default"]=z.exports},"4e40":function(t,o,e){"use strict";e("faa2")},5239:function(t,o,e){},"5e0e":function(t,o,e){"use strict";e("fc93")},"658c":function(t,o,e){},"79c2":function(t,o,e){"use strict";e("cd02")},8418:function(t,o,e){"use strict";var s=e("c04e"),i=e("9bf2"),n=e("5c6c");t.exports=function(t,o,e){var r=s(o);r in t?i.f(t,r,n(0,e)):t[r]=e}},"99af":function(t,o,e){"use strict";var s=e("23e7"),i=e("d039"),n=e("e8b5"),r=e("861d"),a=e("7b0b"),c=e("50c4"),l=e("8418"),d=e("65f0"),u=e("1dde"),f=e("b622"),p=e("2d00"),h=f("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",b=p>=51||!i((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),w=u("concat"),v=function(t){if(!r(t))return!1;var o=t[h];return void 0!==o?!!o:n(t)},$=!b||!w;s({target:"Array",proto:!0,forced:$},{concat:function(t){var o,e,s,i,n,r=a(this),u=d(r,0),f=0;for(o=-1,s=arguments.length;o<s;o++)if(n=-1===o?r:arguments[o],v(n)){if(i=c(n.length),f+i>g)throw TypeError(m);for(e=0;e<i;e++,f++)e in n&&l(u,f,n[e])}else{if(f>=g)throw TypeError(m);l(u,f++,n)}return u.length=f,u}})},c198:function(t,o,e){"use strict";e("5239")},c57d:function(t,o,e){"use strict";e("658c")},cd02:function(t,o,e){},faa2:function(t,o,e){},fc93:function(t,o,e){}}]);
//# sourceMappingURL=chunk-1ddfd466.e1b7892d.js.map